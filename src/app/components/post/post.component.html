<h2>Publicar Viaje Compartido</h2>

<form (ngSubmit)="publicarViaje()" #viajeForm="ngForm">
  <label for="origen">Origen:</label>
  <input
    id="origen"
    type="text"
    [(ngModel)]="direccionOrigen"
    name="direccionOrigen"
    (input)="buscarCoordsOrigen()"
    required
    minlength="3"
  />
  <br />

  <label for="destino">Destino:</label>
  <input
    id="destino"
    type="text"
    [(ngModel)]="direccionDestino"
    name="direccionDestino"
    (input)="buscarCoordsDestino()"
    required
    minlength="3"
  />
  <br />

  <label for="fechaHora">Fecha y hora:</label>
  <input
    id="fechaHora"
    type="datetime-local"
    [(ngModel)]="fechaHora"
    name="fechaHora"
    required
  />
  <br />

  <label for="precio">Precio por pasajero:</label>
  <input
    id="precio"
    type="number"
    [(ngModel)]="precio"
    name="precio"
    min="0"
    required
  />
  <br />

  <label for="pasajerosDisponibles">Número de pasajeros disponibles:</label>
  <input
    id="pasajerosDisponibles"
    type="number"
    [(ngModel)]="pasajerosDisponibles"
    name="pasajerosDisponibles"
    min="1"
    required
  />
  <br />

  <button type="submit" [disabled]="viajeForm.invalid">Publicar Viaje</button>
</form>

<!-- Mapa mostrando origen y destino -->
<app-map
  [ubicacionActual]="coordsOrigen"
  [ubicacionDestino]="coordsDestino"
></app-map>

<hr />

<h3>Viajes publicados</h3>
<ul>
  <li *ngFor="let viaje of viajesPublicados">
    <strong>{{ viaje.direccionOrigen }}</strong> →
    <strong>{{ viaje.direccionDestino }}</strong> |
    Fecha: {{ viaje.fechaHora | date: 'short' }} |
    Precio: {{ viaje.precio | currency: 'USD' }} |
    Pasajeros: {{ viaje.pasajerosDisponibles }}
  </li>
</ul>
