<h2>Publicar Viaje Compartido</h2>

<form (ngSubmit)="publicarViaje()" #viajeForm="ngForm">
  <label for="origen">Origen:</label>
  <input
    id="origen"
    type="text"
    [(ngModel)]="direccionOrigen"
    name="direccionOrigen"
    (input)="buscarCoordsOrigen()"
    required
    minlength="3"
  />
  <br />

  <label for="destino">Destino:</label>
  <input
    id="destino"
    type="text"
    [(ngModel)]="direccionDestino"
    name="direccionDestino"
    (input)="buscarCoordsDestino()"
    required
    minlength="3"
  />
  <br />

  <label for="fechaHora">Fecha y hora:</label>
  <input
    id="fechaHora"
    type="datetime-local"
    [(ngModel)]="fechaHora"
    name="fechaHora"
    required
  />
  <br />

  <label for="precio">Precio por pasajero:</label>
  <input
    id="precio"
    type="number"
    [(ngModel)]="precio"
    name="precio"
    min="0"
    required
  />
  <br />

  <label for="pasajerosDisponibles">Pasajeros disponibles:</label>
  <input
    id="pasajerosDisponibles"
    type="number"
    [(ngModel)]="pasajerosDisponibles"
    name="pasajerosDisponibles"
    min="1"
    required
  />
  <br />

  <button type="submit" [disabled]="viajeForm.invalid">Publicar Viaje</button>
</form>

<app-map
  [ubicacionActual]="coordsOrigen"
  [ubicacionDestino]="coordsDestino"
></app-map>

<hr />

<h3>Viajes publicados</h3>
<ul>
  <li *ngFor="let viaje of viajesPublicados">
    <strong>Origen:</strong> {{ viaje.direccionOrigen }}<br>
    <strong>Destino:</strong> {{ viaje.direccionDestino }}<br>
    <strong>Fecha:</strong> {{ viaje.fechaHora | date: 'fullDate' }}<br>
    <strong>Hora:</strong> {{ viaje.fechaHora | date: 'shortTime' }}<br>
    <strong>Precio:</strong> {{ viaje.precio | currency: 'USD' }}<br>
    <strong>Asientos disponibles:</strong> {{ viaje.pasajerosDisponibles }}<br>
    <hr>
  </li>
</ul>

