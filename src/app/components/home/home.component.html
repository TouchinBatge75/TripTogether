<app-map
  [ubicacionActual]="ubicacionActual"
  [ubicacionDestino]="ubicacionDestino">
</app-map>

<div class="container">
  <button (click)="toggleFormulario()">
    {{ mostrarFormulario ? 'Cerrar formulario' : 'Abrir formulario' }}
  </button>

  <form *ngIf="mostrarFormulario" (submit)="$event.preventDefault()">
    <label>
      Dirección destino:
      <input type="text"
             [(ngModel)]="direccionDestino"
             (input)="buscarSugerencias()"
             (blur)="ocultarSugerencias()"
             name="direccion"
             autocomplete="off" />
    </label>

    <ul *ngIf="mostrarSugerencias" class="sugerencias-lista">
      <li *ngFor="let sug of sugerencias" (click)="seleccionarSugerencia(sug)">
        {{ sug.display_name }}
      </li>
    </ul>

    <label>
      Número de pasajeros:
      <input type="number" min="1" max="10" [(ngModel)]="numeroPasajeros" name="pasajeros" />
    </label>

    <label>
      Tipo de pago:
      <select [(ngModel)]="tipoPago" name="tipoPago">
        <option value="efectivo">Efectivo</option>
        <option value="tarjeta">Tarjeta</option>
      </select>
    </label>

    <button (click)="calcularPrecio()" type="button">Calcular precio</button>
  </form>

  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="precio !== null" class="precio-resultado">
    Precio estimado: <strong>${{ precio }}</strong>
  </div>
</div>
